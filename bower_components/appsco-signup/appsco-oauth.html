<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../paper-button/paper-button.html">
<link rel="import" href="../paper-styles/color.html">
<link rel="import" href="../iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../iron-icons/social-icons.html">

<!--
`appsco-oauth`
Is used to represent applications for oauth login within Appsco.

Example:

    <body>
      <appsco-oauth providers="[{}]"></appsco-oauth>

 Custom property | Description | Default
----------------|-------------|----------
`--appsco-oauth` | Mixin applied to root appsco-oauth element | `{}`

@demo demo/appsco-oauth.html
-->

<dom-module id="appsco-oauth">
    <template>
        <style include="iron-flex iron-flex-alignment">
            :host {
                display: block;

                @apply(--appsco-oauth);
            }
            :host .paper-button-link {
                width: 50%;
            }
            :host paper-button {
                width: 100%;
                background-color: var(--primary-color, #03BCFF);
                color: #ffffff;
                border-radius: 0;
                margin-left: 0;
                margin-right: 0;
            }
            :host a {
                text-decoration: none;
            }
            :host paper-button.facebook {
                background-color: #3b5998;
            }
            :host paper-button.google {
                background-color: var(--google-red-500);
            }
            :host .or-login-head {
                position: relative;
            }
            :host hr {
                border: none;
                width: 100%;
                height: 1px;
                background-color: var(--divider-color);

                @apply(--appsco-login-with-divider);
            }
            :host .or-login-text {
                width: 100px;
                background-color: #ffffff;
                color: var(--paper-grey-400);
                position: absolute;
                top: -3px;
                left: 0;
                right: 0;
                margin-left: auto;
                margin-right: auto;
                text-align: center;
                font-size: 14px;

                @apply(--appsco-login-with-text);
            }
            :host .login-links {
                margin-top: 10px;
            }
            .flex-equal-justified {
                @apply(--layout-horizontal);
                @apply(--layout-justified);
            }
        </style>

        <div class="appsco-login-with-section layout vertical mt-30">
            <div class="or-login-head flex">
                <hr>
                <span class="or-login-text">or login with</span>
            </div>

            <div class="login-links layout horizontal wrap flex-equal-justified mt-20">

                <template is="dom-repeat" items="[[ providers ]]">

                    <a href="[[ item.oauth_url ]]" class="paper-button-link">
                        <paper-button class$="[[ item.name ]]">
                            [[ item.name ]]
                        </paper-button>
                    </a>

                </template>
            
            </div>

        </div>

    </template>

    <script>
        Polymer({

            is: 'appsco-oauth',

            properties: {

                /**
                 * Locale
                 */
                locale: {
                    type: String,
                    value: 'en'
                },

                /**
                 * Array of oauth applications with application name and oauth url.
                 */
                providers: {
                    type: Array
                }
            }
        });
    </script>
</dom-module>
